{% extends "base.html" %}

{% block content %}
    <h2 class="sub-header">Release Calendar</h2>
    <table class="table table-bordered">
        <thead>
        <tr>
        {% load release_extras %}
        {% for day in days %}
            <th>{{ day }}</th>
        {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for i in max_releases_range %}
        <tr>
            {% for day in days %}
                {% with release=releases|index:day %}
                    {% if release|length > i %}
                      {% with r=release|index:i %}
                        <td class="col-md-2 {{ r.get_status_display|status_color }} scroll">
                        <a href="/admin/release/release/{{ r.pk }}/">{{ r.name }}</a><br/><br/>
                        <b>Environments: </b><br/>
                        <ul>
                        {% for environment in r.environments.all %}
                            <li>{{ environment }}</li>
                        {% endfor %}
                        </ul>
                        <b>Manager: </b>{{ r.manager }}<br/>
                        <b>Status: </b>{{ r.get_status_display }}<br/>
                        <b>Start Time: </b>{{ r.start_time }}<br/>
                        <b>End Time: </b>{{ r.end_time }}<br/>
                        <b>Artifacts:</b><br/>
                        <ul>
                        {% for artifact in r.artifacts.all %}
                            <li>{{ artifact }}</li>
                        {% endfor %}
                        </ul>
                        </td>
                      {% endwith %}
                    {% else %}
                    <td class="col-md-2"></td>
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock content %}

